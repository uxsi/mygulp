<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title></title>
  <meta name="color-scheme" content="light dark">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0,viewport-fit=cover">
  <link rel="stylesheet" href="//res.wx.qq.com/open/libs/weui/2.4.4/weui.min.css" media="all">
</head>
<body>
  <div class="page">
    <div aria-hidden="true" class="page__hd">
      <h1 class="page__title">Half-screen Dialog</h1>
      <p class="page__desc">半屏组件</p>
    </div>
    <div aria-hidden="true" class="page__bd page__bd_spacing">
      <a href="javascript:" role="button" class="weui-btn weui-btn_default" id="showIOSDialog1">样式一</a>
      <a href="javascript:" role="button" class="weui-btn weui-btn_default" id="showIOSDialog2">样式二</a>
    </div>

    <div id="dialogs">
      <!--BEGIN dialog1-->
      <div class="js_dialog" aria-labelledby="js_title1" role="dialog" aria-modal="true" aria-hidden="false" id="iosDialog1" style="display: none;">
        <div class="weui-mask"></div>
        <div id="js_dialog_1" class="weui-half-screen-dialog">
          <div class="weui-half-screen-dialog__hd">
            <div class="weui-half-screen-dialog__hd__side">
              <button id="close1" class="weui-icon-btn">关闭<i class="weui-icon-close-thin"></i></button>
            </div>
            <div class="weui-half-screen-dialog__hd__main">
              <strong class="weui-half-screen-dialog__title" id="js_title1">标题</strong>
            </div>
          </div>
          <div class="weui-half-screen-dialog__bd">
            <br>
            <br>
            可放自定义内容
            <br>
            <br>
            <br>
            <br>
          </div>
        </div>
      </div>
      <!--END dialog1-->
      <!--BEGIN dialog2-->
      <div class="js_dialog" aria-labelledby="js_title2" role="dialog" aria-modal="true" aria-hidden="false" id="iosDialog2" style="display: block;">
        <div class="weui-mask"></div>
        <div id="js_dialog_2" class="weui-half-screen-dialog">
          <div class="weui-half-screen-dialog__hd">
            <div class="weui-half-screen-dialog__hd__side">
              <button style="display: none;" class="weui-icon-btn">返回<i class="weui-icon-back-arrow-thin"></i></button>
              <button id="close2" id="closeBtn" class="weui-icon-btn">关闭<i class="weui-icon-close-thin"></i></button>
            </div>
            <div class="weui-half-screen-dialog__hd__main">
              <strong class="weui-half-screen-dialog__title" id="js_title2">标题</strong>
              <span class="weui-half-screen-dialog__subtitle">标题</span>
            </div>
            <div class="weui-half-screen-dialog__hd__side">
              <button class="weui-icon-btn">更多<i class="weui-icon-more"></i></button>
            </div>
          </div>
          <div class="weui-half-screen-dialog__bd">
            <p class="weui-half-screen-dialog__desc">
            辅助描述内容，可根据实际需要安排
            </p>
            <p class="weui-half-screen-dialog__tips">
            辅助提示内容，可根据实际需要安排
            </p>
          </div>
          <div class="weui-half-screen-dialog__ft">
            <a href="javascript:" role="button" class="weui-btn weui-btn_default">辅助操作</a>
            <a href="javascript:" role="button" class="weui-btn weui-btn_primary">主操作</a>
          </div>
        </div>
      </div>
      <!--END dialog2-->
    </div>
  </div>
  <script src="//zeptojs.com/zepto.min.js"></script>
  <script type="text/javascript">
    $(function(){
      var $dialog1 = $('#js_dialog_1'),
        $dialog2 = $('#js_dialog_2'),
        $iosDialog1 = $('#iosDialog1'),
        $iosDialog2 = $('#iosDialog2');

      $('#close1').on('click', function(){
        $(this).parents('.js_dialog').attr('aria-hidden','true').attr('aria-modal','false').removeAttr('tabindex');
        $(this).parents('.js_dialog').css('display','none');
        $dialog1.removeClass('weui-half-screen-dialog_show');
        setTimeout(function(){
          $('#showIOSDialog1').trigger('focus');
        },300)
      });
      $('#close2').on('click', function(){
        $(this).parents('.js_dialog').attr('aria-hidden','true').attr('aria-modal','false').removeAttr('tabindex');
        $(this).parents('.js_dialog').css('display','none');
        $dialog2.removeClass('weui-half-screen-dialog_show');
        setTimeout(function(){
          $('#showIOSDialog2').trigger('focus');
        },300)
      });

      $('#showIOSDialog1').on('click', function(){
        debugger;
        $iosDialog1.css('display','block');
        $dialog1.addClass('weui-half-screen-dialog_show');
        setTimeout(function(){
          $iosDialog1.attr('aria-hidden','false');
          $iosDialog1.attr('aria-modal','true');
          $iosDialog1.attr('tabindex','0');
          $iosDialog1.trigger('focus');
        },200)
      });
      $('#showIOSDialog2').on('click', function(){
        $iosDialog2.css('display','block');
        $dialog2.addClass('weui-half-screen-dialog_show');
        setTimeout(function(){
          $iosDialog2.attr('aria-hidden','false');
          $iosDialog2.attr('aria-modal','true');
          $iosDialog2.attr('tabindex','0');
          $iosDialog2.trigger('focus');
        },200)
      });
    });
  </script>

</body>
</html>
