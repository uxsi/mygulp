<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
  <meta name="wechat-enable-text-zoom-em" content="true" />
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0,viewport-fit=cover">
  <meta name="color-scheme" content="light dark">
  <link rel="stylesheet" href="./custom_ellipsis.css">
  <link rel="stylesheet" href="./demo.css">
</head>
<body>
  <div class="demo">
    <div class="demo_title">模拟省略号 <a href="./custom_ellipsis.css">下载CSS</a></div>
    <div class="demo_desc">
      <p>优点省略号左右间距可定制、支持两端对齐，并且不需要js判断多行，缺点是代码成本高</p>
      <p>css变量--ellipsisFontSize: 字号</p>
      <p>css变量--ellipsisLineHeight: 行高</p>
      <p>css变量--ellipsisColor: 字体颜色</p>
      <p>css变量--ellipsisLine: 最大行数</p>
      <p>css变量--ellipsisSymbolWidth: 省略号占位大小</p>
      <p>css变量--ellipsisSymbolWidthApple: Apple系省略号占位大小</p>
    </div>
    <div class="demo_tips">
      <p>需要两个重复文本dom是因为Apple系和Android系下使用多行省略号的时候高度不同，所以新增一个来统一文本的真实高度</p>
      <p>指定最大行数时需同时指定weui-custom-ellipsis__placeholder的高度为n行高度，为了消除不同缩放倍数下的取整问题，weui-custom-ellipsis__placeholder的高度需要用真实n行文字来实现，不能直接用em）</p>
      <p>由于不同系统内核下省略号渲染的差异，默认省略号占位默认使用font-size属性且单位px，Apple系使用letter-spacing，单位em</p>
      <p>原理见：<a href="./demo.html">原理B</a> 和 <a href="./demo.html">原理C</a> </p>
    </div>
  </div>

  <div class="demo">
    <div class="demo_title">A1 模拟省略号后带内容</div>
    <div class="demo_desc">未超过最大行数</div>
    <div class="weui-custom-ellipsis__wrp">
      <div class="weui-custom-ellipsis__text">
        <div class="weui-custom-ellipsis__text__inner">
          网络社交平台已经成为人与人之间一张重要的“关系网”。
          <span class="weui-custom-ellipsis__text__extra"><span class="tag">标签</span></span>
        </div>
      </div>
      <div class="weui-custom-ellipsis" aria-hidden="true">
        <div class="weui-custom-ellipsis__fake-text">
          <div class="weui-custom-ellipsis__text__inner">
            网络社交平台已经成为人与人之间一张重要的“关系网”。
            <span class="weui-custom-ellipsis__text__extra"><span class="tag">标签</span></span>
          </div>
        </div>
        <div class="weui-custom-ellipsis__placeholder"></div>
        <div class="weui-custom-ellipsis__extra">
          <span class="weui-custom-ellipsis__symbol">...</span>
          <span class="weui-custom-ellipsis__text__extra"><span class="tag">标签</span></span>
        </div>
      </div>
    </div>
  </div>
  <div class="demo">
    <div class="demo_title">A2 模拟省略号后带内容</div>
    <div class="demo_desc">超过最大行数</div>
    <div class="weui-custom-ellipsis__wrp">
      <div class="weui-custom-ellipsis__text">
        <div class="weui-custom-ellipsis__text__inner">
          网络社交平台已经成为人与人之间一张重要的“关系网”。人们在网上发表言论，交流观点，很多“热搜”话题都会成为街谈巷议的焦点。然而，阅读满足于支离破碎的信息拼凑，满足于感官的肤浅体验，放弃思考、失去耐心等待真相，主动向情绪化的观点、评论“缴械”，情绪被左右摆布来回煽动，许多人被“带节奏”而不自知。
          <span class="weui-custom-ellipsis__text__extra"><span class="tag">标签</span></span>
        </div>
      </div>
      <div class="weui-custom-ellipsis" aria-hidden="true">
        <div class="weui-custom-ellipsis__fake-text">
          <div class="weui-custom-ellipsis__text__inner">
            网络社交平台已经成为人与人之间一张重要的“关系网”。人们在网上发表言论，交流观点，很多“热搜”话题都会成为街谈巷议的焦点。然而，阅读满足于支离破碎的信息拼凑，满足于感官的肤浅体验，放弃思考、失去耐心等待真相，主动向情绪化的观点、评论“缴械”，情绪被左右摆布来回煽动，许多人被“带节奏”而不自知。
            <span class="weui-custom-ellipsis__text__extra"><span class="tag">标签</span></span>
          </div>
        </div>
        <div class="weui-custom-ellipsis__placeholder"></div>
        <div class="weui-custom-ellipsis__extra">
          <span class="weui-custom-ellipsis__symbol">...</span>
          <span class="weui-custom-ellipsis__text__extra"><span class="tag">标签</span></span>
        </div>
      </div>
    </div>
  </div>
  <div class="demo">
    <div class="demo_title">B1 模拟省略号后带展开</div>
    <div class="demo_desc">收起状态</div>
    <div class="weui-custom-ellipsis__wrp">
      <div class="weui-custom-ellipsis__text">
        <div class="weui-custom-ellipsis__text__inner">
          网络社交平台已经成为人与人之间一张重要的“关系网”。人们在网上发表言论，交流观点，很多“热搜”话题都会成为街谈巷议的焦点。然而，阅读满足于支离破碎的信息拼凑，满足于感官的肤浅体验，放弃思考、失去耐心等待真相，主动向情绪化的观点、评论“缴械”，情绪被左右摆布来回煽动，许多人被“带节奏”而不自知。
        </div>
      </div>
      <div class="weui-custom-ellipsis" aria-hidden="true">
        <div class="weui-custom-ellipsis__fake-text">
          <div class="weui-custom-ellipsis__text__inner">
            网络社交平台已经成为人与人之间一张重要的“关系网”。人们在网上发表言论，交流观点，很多“热搜”话题都会成为街谈巷议的焦点。然而，阅读满足于支离破碎的信息拼凑，满足于感官的肤浅体验，放弃思考、失去耐心等待真相，主动向情绪化的观点、评论“缴械”，情绪被左右摆布来回煽动，许多人被“带节奏”而不自知。
          </div>
        </div>
        <div class="weui-custom-ellipsis__placeholder"></div>
        <div class="weui-custom-ellipsis__extra">
          <span class="weui-custom-ellipsis__symbol">...</span>
          <button class="weui-custom-ellipsis__fold-btn" type="button">展开</button>
        </div>
      </div>
    </div>
  </div>
  <div class="demo">
    <div class="demo_title">B2 模拟省略号后带展开</div>
    <div class="demo_desc">
      <p>展开状态</p>
      <p>展开加weui-custom-ellipsis_unfold</p>
    </div>
    <div class="weui-custom-ellipsis__wrp weui-custom-ellipsis_unfold">
      <div class="weui-custom-ellipsis__text">
        <div class="weui-custom-ellipsis__text__inner">
          网络社交平台已经成为人与人之间一张重要的“关系网”。人们在网上发表言论，交流观点，很多“热搜”话题都会成为街谈巷议的焦点。然而，阅读满足于支离破碎的信息拼凑，满足于感官的肤浅体验，放弃思考、失去耐心等待真相，主动向情绪化的观点、评论“缴械”，情绪被左右摆布来回煽动，许多人被“带节奏”而不自知。
        </div>
      </div>
      <div class="weui-custom-ellipsis" aria-hidden="true">
        <div class="weui-custom-ellipsis__fake-text">
          <div class="weui-custom-ellipsis__text__inner">
            网络社交平台已经成为人与人之间一张重要的“关系网”。人们在网上发表言论，交流观点，很多“热搜”话题都会成为街谈巷议的焦点。然而，阅读满足于支离破碎的信息拼凑，满足于感官的肤浅体验，放弃思考、失去耐心等待真相，主动向情绪化的观点、评论“缴械”，情绪被左右摆布来回煽动，许多人被“带节奏”而不自知。
          </div>
        </div>
        <div class="weui-custom-ellipsis__placeholder"></div>
        <div class="weui-custom-ellipsis__extra">
          <span class="weui-custom-ellipsis__symbol">...</span>
          <button class="weui-custom-ellipsis__fold-btn" type="button">展开</button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
